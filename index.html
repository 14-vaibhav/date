<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Message</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background-image: url('https://thumbs.dreamstime.com/b/vector-romantic-pattern-polka-dot-red-heart-can-be-used-wallpaper-pattern-fill-web-page-background-surface-vector-101419728.jpg');
      background-size: cover;
      background-position: center;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .message-box {
      padding: 40px;
      border: 4px solid #ff69b4;
      border-radius: 25px;
      background-color: rgba(255, 240, 245, 0.95);
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      text-align: center;
      max-width: 400px;
      width: 90%;
      color: #420624;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .button-box {
      padding: 10px 25px;
      border: 2px solid #420624;
      border-radius: 10px;
      background-color: #fff;
      cursor: pointer;
      transition: 0.3s;
      font-size: 18px;
    }

    .button-box:hover {
      background-color: #ffe6f0;
      transform: scale(1.05);
    }

    input {
      padding: 10px;
      margin: 10px 0;
      width: 90%;
      border: 2px solid #ff69b4;
      border-radius: 8px;
      font-size: 16px;
    }

    form button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 10px;
      background-color: #ff69b4;
      color: white;
      border: none;
      cursor: pointer;
    }

    canvas#confettiCanvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 999;
    }

    .form-screenshot-wrapper {
      padding: 30px;
      border: 4px solid #ff69b4;
      border-radius: 25px;
      background-color: rgba(255, 240, 245, 0.95);
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      text-align: center;
      max-width: 320px;
      width: 85%;
      color: #420624;
      margin: 0 auto;
    }

    .form-box {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    audio { display: none; }
  </style>
</head>
<body>

  <audio id="bgMusic">
    <source src="https://archive.org/download/fly-me-to-the-moon-remastered/Fly Me To The Moon _Remastered_.mp3" type="audio/mpeg">
  </audio>

  <canvas id="confettiCanvas"></canvas>

  <div id="content" class="message-box">
    <div id="message">Will you go out with me?💕 (Click No a few times 😉)</div>
    <div class="buttons">
      <div class="button-box" onclick="playMusic(); handleYes()">Yes 😼</div>
      <div class="button-box" onclick="playMusic(); handleNo()">No 🙀</div>
    </div>
  </div>

  <script>
    const messages = [
      "Haww ☹️", "Are you sure? 🥺", "Think again 😢", "But I'll bring flowers 💐",
      "Don’t do this to me 😿", "I'm a great listener! 🎧", "Free pizza on the date? 🍕",
      "We could be cute together 🥰", "You’re missing out... 😶", "Last chance to say yes 😬",
      "Not these many times 😭", "Please reconsider it or else I'll kms🐾", "Fine.. 😑"
    ];
    let noClickCount = 0;
    let musicPlayed = false;

    function playMusic() {
      if (!musicPlayed) {
        const music = document.getElementById("bgMusic");
        music.currentTime = 6;
        music.play();
        musicPlayed = true;
      }
    }

    function handleNo() {
      const msg = document.getElementById("message");
      if (noClickCount < messages.length) {
        msg.textContent = messages[noClickCount];
      } else {
        msg.textContent = "Your loss 😎";
        setTimeout(() => {
          document.body.innerHTML = "";
          document.body.style.background = "#000";
        }, 1500);
      }
      noClickCount++;
    }

    function handleYes() {
      document.getElementById("content").innerHTML = `
        <div class="form-screenshot-wrapper">
          <div class="form-box">
            <h2>Yay! Let's plan our date! 💖</h2>
            <form id="dateForm">
              <input type="text" name="name" placeholder="Your name" required />
              <input type="email" name="email" placeholder="Email (optional)" />
              <input type="text" name="food" placeholder="Your favorite food?" required />
              <input type="date" name="date" required />
              <button type="submit">Submit</button>
            </form>
          </div>
        </div>
      `;

      // Attach submit listener
      setTimeout(() => {
        const form = document.getElementById("dateForm");
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(form);

          fetch("https://submit-form.com/AB8BX697G", {
            method: "POST",
            body: formData,
            headers: {
              Accept: "application/json"
            }
          }).then(() => {
            const name = form.name.value;
            const email = form.email.value.trim();
            const food = form.food.value;
            const date = form.date.value;

            createConfetti();
            drawConfetti();

            document.querySelector(".form-screenshot-wrapper").innerHTML = `
              <div class="form-box">
                <h2>🎉 Yay! You're going on a date 💖</h2>
                <p><strong>Name:</strong> ${name}</p>
                ${email ? `<p><strong>Email:</strong> ${email}</p>` : ""}
                <p><strong>Favorite Food:</strong> ${food}</p>
                <p><strong>Date:</strong> ${date}</p>
                <br/>
                <p>📸 Take a screenshot of this and send it to me!</p>
              </div>
            `;
          });
        });
      }, 100);
    }

    let confettiParticles = [];
    function createConfetti() {
      const canvas = document.getElementById("confettiCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      confettiParticles = Array.from({ length: 150 }, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        r: Math.random() * 6 + 4,
        d: Math.random() * 5 + 2,
        color: `hsl(${Math.random() * 360}, 100%, 70%)`,
        tilt: Math.floor(Math.random() * 10) - 5,
      }));

      setTimeout(() => {
        confettiParticles = [];
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }, 6000);
    }

    function drawConfetti() {
      const canvas = document.getElementById("confettiCanvas");
      const ctx = canvas.getContext("2d");

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        confettiParticles.forEach(p => {
          ctx.beginPath();
          ctx.fillStyle = p.color;
          ctx.fillRect(p.x, p.y, p.r, p.r);
          ctx.fill();
        });
        updateConfetti();
        if (confettiParticles.length) requestAnimationFrame(draw);
      }

      draw();
    }

    function updateConfetti() {
      confettiParticles.forEach(p => {
        p.y += p.d;
        p.x += Math.sin(p.tilt);
      });
    }
  </script>
</body>
</html>
